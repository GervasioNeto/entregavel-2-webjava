<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sequência de Fibonacci</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<header>
    <h1>Sequência de Fibonacci</h1>
</header>

<form action="#" th:action="@{/fibonacci}" method="post">
    <label for="inputNumber">Digite o número de termos:</label>
    <input type="number" id="inputNumber" name="n" required>
    <button type="button" id="generateButton">Gerar Sequência</button>

    <div id="result" style="display: none;">
        <span th:text="${sequencia}"></span>
    </div>

    <input type="submit" value="Calcular Fibonacci">
</form>

<script>
    document.getElementById("generateButton").addEventListener("click", function() {
        let n = parseInt(document.getElementById("inputNumber").value);

        if (isNaN(n) || n <= 0) {
            alert("Por favor, insira um número válido.");
            return;
        }

        let termo1 = 0;
        let termo2 = 1;
        let termo3;
        let sequencia = `${termo1}, ${termo2}`;

        for (let i = 3; i <= n; i++) {
            termo3 = termo1 + termo2;
            sequencia += `, ${termo3}`;
            termo1 = termo2;
            termo2 = termo3;
        }

        const resultDiv = document.getElementById("result");
        resultDiv.textContent = `Sequência de Fibonacci (${n} termos): ${sequencia}`;
        resultDiv.style.display = 'block'; // Exibe o resultado
    });
</script>

<footer>
    <a href="/" th:href="@{/}">Voltar para a Página Inicial</a>
    <img src="../static/unifor-logo-horizontal.svg" alt="Logo da Universidade" class="logo-universidade">
</footer>
</body>
</html>
